{"version":3,"sources":["webpack:///./src/pages/events.js"],"names":["before_today","d","today","Date","targ","prev_year","getFullYear","prev_month","getMonth","prev_day","getDate","EventsPageItem","path","fluid","image","childImageSharp","title","date","eventType","className","key","to","pageQuery","EventsPage","events","data","allMarkdownRemark","edges","past_events","filter","e","node","frontmatter","curr_events","length","map"],"mappings":"qHAAA,mIAqDMA,GArDN,UAqDqB,SAAAC,GACjB,IAAIC,EAAQ,IAAIC,KACZC,EAAO,IAAID,KAAKF,GAChBI,EAAYD,EAAKE,cAAgBJ,EAAMI,cACvCC,EAAaH,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,WAAaN,EAAMM,WAClFC,EAAWL,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,YAAcN,EAAMM,YAAcJ,EAAKM,UAAYR,EAAMQ,UAC1H,OAAOL,GAAaE,GAAcE,IAGhCE,EAAiB,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,KAAkCC,EAAwC,EAApEC,MAASC,gBAAmBF,MAAWG,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,KAAsB,EAAhBC,UAChF,OACI,yBAAKC,UAAU,mBAAmBC,IAAKR,GACnC,kBAAC,OAAD,CAAMS,GAAIT,GACN,yBAAKO,UAAU,mBACX,kBAAC,IAAD,CAAKN,MAAOA,KAEhB,yBAAKM,UAAU,QACX,0BAAMA,UAAU,SAASH,GACzB,6BACA,0BAAMG,UAAU,WAAWF,OAOlCK,EAAS,aA2BPC,UAlGI,SAAC,GAAc,IACfC,EADc,EAAXC,KACaC,kBAAvBC,MAEFC,EAAcJ,EAAOK,QAAO,gBAASC,EAAT,EAAGC,KAAH,OAAiB/B,EAAa8B,EAAEE,YAAYf,SACxEgB,EAAcT,EAAOK,QAAO,gBAAQC,EAAR,EAAEC,KAAF,OAAgB/B,EAAa8B,EAAEE,YAAYf,SAC7E,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKD,MAAM,WACX,yBAAKG,UAAU,yBACX,+CACuB,GAAtBc,EAAYC,OAAc,yBAAKf,UAAU,aAAf,+CAC3B,yBAAKA,UAAU,0BACVc,EAAYE,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBpB,EAAemB,EAAEE,iBAGvD,2CACI,wBAAIb,UAAU,qBAAd,kBACA,yBAAKA,UAAU,0BAEXS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KACnB,MAAmC,mBAA5BD,EAAEE,YAAYd,WAAkCP,EAAemB,EAAEE,iBAI5E,wBAAIb,UAAU,qBAAd,gBACA,yBAAKA,UAAU,0BAEXS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KACnB,MAAmC,iBAA5BD,EAAEE,YAAYd,WAAgCP,EAAemB,EAAEE,iBAI1E,wBAAIb,UAAU,qBAAd,aACA,yBAAKA,UAAU,0BAEXS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KACnB,MAAmC,aAA5BD,EAAEE,YAAYd,WAA4BP,EAAemB,EAAEE","file":"component---src-pages-events-js-b6945bcd2243c323ff88.js","sourcesContent":["import React from 'react'\r\nimport { Link, graphql } from 'gatsby'\r\nimport Img from 'gatsby-image'\r\nimport Layout from '../components/layout'\r\nimport SEO from '../components/seo'\r\n\r\nimport '../styles/events.sass'\r\n\r\nconst EventsPage = ({ data }) => {\r\n    const { edges: events } = data.allMarkdownRemark\r\n    const categories = [ \"Workshops\", \"Guest Events\", \"Special Events\" ]\r\n    const past_events = events.filter(({ node: e }) => before_today(e.frontmatter.date))\r\n    const curr_events = events.filter(({node: e}) => !before_today(e.frontmatter.date))\r\n    return (\r\n        <Layout>\r\n            <SEO title=\"Events\" />\r\n            <div className=\"events-page-container\">\r\n                <h1>Upcoming Events</h1>\r\n                {curr_events.length == 0 ? <div className=\"no-events\">Nothing yet... Check back later this month!</div> : \r\n                <div className=\"events-items-container\">\r\n                    {curr_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\r\n                </div>\r\n                }\r\n                <h1>Past Events</h1>\r\n                    <h2 className=\"events-subheading\">Special Events</h2>\r\n                    <div className=\"events-items-container\">\r\n                    {\r\n                        past_events.map(({ node: e }) => {\r\n                        return e.frontmatter.eventType === \"Special events\" && EventsPageItem(e.frontmatter)\r\n                        })\r\n                    } \r\n                    </div>\r\n                    <h2 className=\"events-subheading\">Guest Events</h2>\r\n                    <div className=\"events-items-container\">\r\n                    {\r\n                        past_events.map(({ node: e }) => {\r\n                        return e.frontmatter.eventType === \"Guest Events\" && EventsPageItem(e.frontmatter)\r\n                        })\r\n                    }\r\n                    </div>\r\n                    <h2 className=\"events-subheading\">Workshops</h2>\r\n                    <div className=\"events-items-container\">\r\n                    {\r\n                        past_events.map(({ node: e }) => {\r\n                        return e.frontmatter.eventType === \"Workshop\" && EventsPageItem(e.frontmatter)\r\n                        })\r\n                    } \r\n                    </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nconst before_today = d => {\r\n    var today = new Date()\r\n    var targ = new Date(d)\r\n    var prev_year = targ.getFullYear() < today.getFullYear()\r\n    var prev_month = targ.getFullYear() == today.getFullYear() && targ.getMonth() < today.getMonth()\r\n    var prev_day = targ.getFullYear() == today.getFullYear() && targ.getMonth() == today.getMonth() && targ.getDate() < today.getDate()\r\n    return prev_year || prev_month || prev_day\r\n}\r\n\r\nconst EventsPageItem = ({ path, image: { childImageSharp: { fluid } }, title, date, eventType }) => {\r\n    return (\r\n        <div className=\"events-page-item\" key={path}>\r\n            <Link to={path}>\r\n                <div className=\"image-container\">\r\n                    <Img fluid={fluid} />\r\n                </div>\r\n                <div className=\"text\">\r\n                    <span className=\"title\">{title}</span>\r\n                    <br/>\r\n                    <span className=\"details\">{date}</span>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n    query EventsQuery {\r\n        allMarkdownRemark(\r\n            filter: { fileAbsolutePath: { regex: \"\\/events\\/\" } },\r\n            sort: { order: DESC, fields: [frontmatter___date] }\r\n        ) {\r\n            edges {\r\n                node {\r\n                    frontmatter {\r\n                        title\r\n                        date(formatString: \"MMMM DD, YYYY\")\r\n                        path\r\n                        eventType\r\n                        image {\r\n                            childImageSharp {\r\n                                fluid(maxWidth: 800) {\r\n                                    ...GatsbyImageSharpFluid\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport default EventsPage\r\n"],"sourceRoot":""}