{"version":3,"sources":["webpack:///./src/pages/events.js"],"names":["before_today","d","today","Date","targ","prev_year","getFullYear","prev_month","getMonth","prev_day","getDate","EventsPageItem","path","fluid","image","childImageSharp","title","date","className","key","to","pageQuery","EventsPage","events","data","allMarkdownRemark","edges","past_events","filter","e","node","frontmatter","curr_events","length","map"],"mappings":"qHAAA,mIA+BMA,GA/BN,UA+BqB,SAAAC,GACjB,IAAIC,EAAQ,IAAIC,KACZC,EAAO,IAAID,KAAKF,GAChBI,EAAYD,EAAKE,cAAgBJ,EAAMI,cACvCC,EAAaH,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,WAAaN,EAAMM,WAClFC,EAAWL,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,YAAcN,EAAMM,YAAcJ,EAAKM,UAAYR,EAAMQ,UAC1H,OAAOL,GAAaE,GAAcE,IAGhCE,EAAiB,SAAC,GAAkE,IAAhEC,EAA+D,EAA/DA,KAAkCC,EAA6B,EAAzDC,MAASC,gBAAmBF,MAAWG,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAC1E,OACI,yBAAKC,UAAU,mBAAmBC,IAAKP,GACnC,kBAAC,OAAD,CAAMQ,GAAIR,GACN,yBAAKM,UAAU,mBACX,kBAAC,IAAD,CAAKL,MAAOA,KAEhB,yBAAKK,UAAU,QACX,0BAAMA,UAAU,SAASF,GACzB,6BACA,0BAAME,UAAU,WAAWD,OAOlCI,EAAS,aA0BPC,UA3EI,SAAC,GAAc,IACfC,EADc,EAAXC,KACaC,kBAAvBC,MACFC,EAAcJ,EAAOK,QAAO,gBAASC,EAAT,EAAGC,KAAH,OAAiB9B,EAAa6B,EAAEE,YAAYd,SACxEe,EAAcT,EAAOK,QAAO,gBAAQC,EAAR,EAAEC,KAAF,OAAgB9B,EAAa6B,EAAEE,YAAYd,SAC7E,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKD,MAAM,WACX,yBAAKE,UAAU,yBACX,+CACuB,GAAtBc,EAAYC,OAAc,yBAAKf,UAAU,aAAf,+CAC3B,yBAAKA,UAAU,0BACVc,EAAYE,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBnB,EAAekB,EAAEE,iBAGvD,2CACA,yBAAKb,UAAU,0BACVS,EAAYO,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBnB,EAAekB,EAAEE","file":"component---src-pages-events-js-b20dc53a290e63fca3ec.js","sourcesContent":["import React from 'react'\nimport { Link, graphql } from 'gatsby'\nimport Img from 'gatsby-image'\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\n\nimport '../styles/events.sass'\n\nconst EventsPage = ({ data }) => {\n    const { edges: events } = data.allMarkdownRemark\n    const past_events = events.filter(({ node: e }) => before_today(e.frontmatter.date))\n    const curr_events = events.filter(({node: e}) => !before_today(e.frontmatter.date))\n    return (\n        <Layout>\n            <SEO title=\"Events\" />\n            <div className=\"events-page-container\">\n                <h1>Upcoming Events</h1>\n                {curr_events.length == 0 ? <div className=\"no-events\">Nothing yet... Check back later this month!</div> : \n                <div className=\"events-items-container\">\n                    {curr_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\n                </div>\n                }\n                <h1>Past Events</h1>\n                <div className=\"events-items-container\">\n                    {past_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nconst before_today = d => {\n    var today = new Date()\n    var targ = new Date(d)\n    var prev_year = targ.getFullYear() < today.getFullYear()\n    var prev_month = targ.getFullYear() == today.getFullYear() && targ.getMonth() < today.getMonth()\n    var prev_day = targ.getFullYear() == today.getFullYear() && targ.getMonth() == today.getMonth() && targ.getDate() < today.getDate()\n    return prev_year || prev_month || prev_day\n}\n\nconst EventsPageItem = ({ path, image: { childImageSharp: { fluid } }, title, date }) => {\n    return (\n        <div className=\"events-page-item\" key={path}>\n            <Link to={path}>\n                <div className=\"image-container\">\n                    <Img fluid={fluid} />\n                </div>\n                <div className=\"text\">\n                    <span className=\"title\">{title}</span>\n                    <br/>\n                    <span className=\"details\">{date}</span>\n                </div>\n            </Link>\n        </div>\n    )\n}\n\nexport const pageQuery = graphql`\n    query EventsQuery {\n        allMarkdownRemark(\n            filter: { fileAbsolutePath: { regex: \"\\/events\\/\" } },\n            sort: { order: DESC, fields: [frontmatter___date] }\n        ) {\n            edges {\n                node {\n                    frontmatter {\n                        title\n                        date(formatString: \"MMMM DD, YYYY\")\n                        path\n                        image {\n                            childImageSharp {\n                                fluid(maxWidth: 800) {\n                                    ...GatsbyImageSharpFluid\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n`\n\nexport default EventsPage\n"],"sourceRoot":""}