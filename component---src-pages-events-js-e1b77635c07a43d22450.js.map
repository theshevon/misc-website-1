{"version":3,"sources":["webpack:///./src/pages/events.js"],"names":["before_today","d","today","Date","targ","prev_year","getFullYear","prev_month","getMonth","prev_day","getDate","EventsPageItem","path","fluid","image","childImageSharp","title","date","className","key","to","pageQuery","EventsPage","events","data","allMarkdownRemark","edges","past_events","filter","e","node","frontmatter","curr_events","length","map"],"mappings":"qHAAA,mIA+BMA,GA/BN,UA+BqB,SAAAC,GACjB,IAAIC,EAAQ,IAAIC,KACZC,EAAO,IAAID,KAAKF,GAChBI,EAAYD,EAAKE,cAAgBJ,EAAMI,cACvCC,EAAaH,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,WAAaN,EAAMM,WAClFC,EAAWL,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,YAAcN,EAAMM,YAAcJ,EAAKM,UAAYR,EAAMQ,UAC1H,OAAOL,GAAaE,GAAcE,IAGhCE,EAAiB,SAAC,GAAkE,IAAhEC,EAA+D,EAA/DA,KAAkCC,EAA6B,EAAzDC,MAASC,gBAAmBF,MAAWG,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAC1E,OACI,yBAAKC,UAAU,mBAAmBC,IAAKP,GACnC,kBAAC,OAAD,CAAMQ,GAAIR,GACN,yBAAKM,UAAU,mBACX,kBAAC,IAAD,CAAKL,MAAOA,KAEhB,yBAAKK,UAAU,QACX,0BAAMA,UAAU,SAASF,GACzB,6BACA,0BAAME,UAAU,WAAWD,OAOlCI,EAAS,aA0BPC,UA3EI,SAAC,GAAc,IACfC,EADc,EAAXC,KACaC,kBAAvBC,MACFC,EAAcJ,EAAOK,QAAO,gBAASC,EAAT,EAAGC,KAAH,OAAiB9B,EAAa6B,EAAEE,YAAYd,SACxEe,EAAcT,EAAOK,QAAO,gBAAQC,EAAR,EAAEC,KAAF,OAAgB9B,EAAa6B,EAAEE,YAAYd,SAC7E,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKD,MAAM,WACX,yBAAKE,UAAU,yBACX,+CACuB,GAAtBc,EAAYC,OAAc,yBAAKf,UAAU,aAAf,+CAC3B,yBAAKA,UAAU,0BACVc,EAAYE,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBnB,EAAekB,EAAEE,iBAGvD,2CACA,yBAAKb,UAAU,0BACVS,EAAYO,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBnB,EAAekB,EAAEE","file":"component---src-pages-events-js-e1b77635c07a43d22450.js","sourcesContent":["import React from 'react'\r\nimport { Link, graphql } from 'gatsby'\r\nimport Img from 'gatsby-image'\r\nimport Layout from '../components/layout'\r\nimport SEO from '../components/seo'\r\n\r\nimport '../styles/events.sass'\r\n\r\nconst EventsPage = ({ data }) => {\r\n    const { edges: events } = data.allMarkdownRemark\r\n    const past_events = events.filter(({ node: e }) => before_today(e.frontmatter.date))\r\n    const curr_events = events.filter(({node: e}) => !before_today(e.frontmatter.date))\r\n    return (\r\n        <Layout>\r\n            <SEO title=\"Events\" />\r\n            <div className=\"events-page-container\">\r\n                <h1>Upcoming Events</h1>\r\n                {curr_events.length == 0 ? <div className=\"no-events\">Nothing yet... Check back later this month!</div> : \r\n                <div className=\"events-items-container\">\r\n                    {curr_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\r\n                </div>\r\n                }\r\n                <h1>Past Events</h1>\r\n                <div className=\"events-items-container\">\r\n                    {past_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nconst before_today = d => {\r\n    var today = new Date()\r\n    var targ = new Date(d)\r\n    var prev_year = targ.getFullYear() < today.getFullYear()\r\n    var prev_month = targ.getFullYear() == today.getFullYear() && targ.getMonth() < today.getMonth()\r\n    var prev_day = targ.getFullYear() == today.getFullYear() && targ.getMonth() == today.getMonth() && targ.getDate() < today.getDate()\r\n    return prev_year || prev_month || prev_day\r\n}\r\n\r\nconst EventsPageItem = ({ path, image: { childImageSharp: { fluid } }, title, date }) => {\r\n    return (\r\n        <div className=\"events-page-item\" key={path}>\r\n            <Link to={path}>\r\n                <div className=\"image-container\">\r\n                    <Img fluid={fluid} />\r\n                </div>\r\n                <div className=\"text\">\r\n                    <span className=\"title\">{title}</span>\r\n                    <br/>\r\n                    <span className=\"details\">{date}</span>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n    query EventsQuery {\r\n        allMarkdownRemark(\r\n            filter: { fileAbsolutePath: { regex: \"\\/events\\/\" } },\r\n            sort: { order: DESC, fields: [frontmatter___date] }\r\n        ) {\r\n            edges {\r\n                node {\r\n                    frontmatter {\r\n                        title\r\n                        date(formatString: \"MMMM DD, YYYY\")\r\n                        path\r\n                        image {\r\n                            childImageSharp {\r\n                                fluid(maxWidth: 800) {\r\n                                    ...GatsbyImageSharpFluid\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nexport default EventsPage\r\n"],"sourceRoot":""}