{"version":3,"sources":["webpack:///./src/pages/events.js"],"names":["before_today","d","today","Date","targ","prev_year","getFullYear","prev_month","getMonth","prev_day","getDate","EventsPageItem","path","fluid","image","childImageSharp","title","date","eventType","className","key","to","pageQuery","EventsPage","events","data","allMarkdownRemark","edges","past_events","filter","e","node","frontmatter","curr_events","length","map"],"mappings":"qHAAA,mIAqDMA,GArDN,UAqDqB,SAAAC,GACjB,IAAIC,EAAQ,IAAIC,KACZC,EAAO,IAAID,KAAKF,GAChBI,EAAYD,EAAKE,cAAgBJ,EAAMI,cACvCC,EAAaH,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,WAAaN,EAAMM,WAClFC,EAAWL,EAAKE,eAAiBJ,EAAMI,eAAiBF,EAAKI,YAAcN,EAAMM,YAAcJ,EAAKM,UAAYR,EAAMQ,UAC1H,OAAOL,GAAaE,GAAcE,IAGhCE,EAAiB,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,KAAkCC,EAAwC,EAApEC,MAASC,gBAAmBF,MAAWG,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,KAAsB,EAAhBC,UAChF,OACI,yBAAKC,UAAU,mBAAmBC,IAAKR,GACnC,kBAAC,OAAD,CAAMS,GAAIT,GACN,yBAAKO,UAAU,mBACX,kBAAC,IAAD,CAAKN,MAAOA,KAEhB,yBAAKM,UAAU,QACX,0BAAMA,UAAU,SAASH,GACzB,6BACA,0BAAMG,UAAU,WAAWF,OAOlCK,EAAS,aA2BPC,UAlGI,SAAC,GAAc,IACfC,EADc,EAAXC,KACaC,kBAAvBC,MAEFC,EAAcJ,EAAOK,QAAO,gBAASC,EAAT,EAAGC,KAAH,OAAiB/B,EAAa8B,EAAEE,YAAYf,SACxEgB,EAAcT,EAAOK,QAAO,gBAAQC,EAAR,EAAEC,KAAF,OAAgB/B,EAAa8B,EAAEE,YAAYf,SAC7E,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAKD,MAAM,WACX,yBAAKG,UAAU,yBACX,+CACuB,GAAtBc,EAAYC,OAAc,yBAAKf,UAAU,aAAf,+CAC3B,yBAAKA,UAAU,0BACVc,EAAYE,KAAI,gBAASL,EAAT,EAAGC,KAAH,OAAiBpB,EAAemB,EAAEE,iBAGvD,2CACI,wBAAIb,UAAU,qBAAd,kBACA,yBAAKA,UAAU,0BAEXS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KACnB,MAAmC,mBAA5BD,EAAEE,YAAYd,WAAkCP,EAAemB,EAAEE,iBAI5E,wBAAIb,UAAU,qBAAd,gBACA,yBAAKA,UAAU,0BAEXS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KACnB,MAAmC,iBAA5BD,EAAEE,YAAYd,WAAgCP,EAAemB,EAAEE,iBAI1E,wBAAIb,UAAU,qBAAd,aACA,yBAAKA,UAAU,0BAEXS,EAAYO,KAAI,YAAkB,IAATL,EAAQ,EAAdC,KACnB,MAAmC,aAA5BD,EAAEE,YAAYd,WAA4BP,EAAemB,EAAEE","file":"component---src-pages-events-js-9d9c2f69130fe3224c15.js","sourcesContent":["import React from 'react'\nimport { Link, graphql } from 'gatsby'\nimport Img from 'gatsby-image'\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\n\nimport '../styles/events.sass'\n\nconst EventsPage = ({ data }) => {\n    const { edges: events } = data.allMarkdownRemark\n    const categories = [ \"Workshops\", \"Guest Events\", \"Special Events\" ]\n    const past_events = events.filter(({ node: e }) => before_today(e.frontmatter.date))\n    const curr_events = events.filter(({node: e}) => !before_today(e.frontmatter.date))\n    return (\n        <Layout>\n            <SEO title=\"Events\" />\n            <div className=\"events-page-container\">\n                <h1>Upcoming Events</h1>\n                {curr_events.length == 0 ? <div className=\"no-events\">Nothing yet... Check back later this month!</div> : \n                <div className=\"events-items-container\">\n                    {curr_events.map(({ node: e }) => EventsPageItem(e.frontmatter))}\n                </div>\n                }\n                <h1>Past Events</h1>\n                    <h2 className=\"events-subheading\">Special Events</h2>\n                    <div className=\"events-items-container\">\n                    {\n                        past_events.map(({ node: e }) => {\n                        return e.frontmatter.eventType === \"Special events\" && EventsPageItem(e.frontmatter)\n                        })\n                    } \n                    </div>\n                    <h2 className=\"events-subheading\">Guest Events</h2>\n                    <div className=\"events-items-container\">\n                    {\n                        past_events.map(({ node: e }) => {\n                        return e.frontmatter.eventType === \"Guest Events\" && EventsPageItem(e.frontmatter)\n                        })\n                    }\n                    </div>\n                    <h2 className=\"events-subheading\">Workshops</h2>\n                    <div className=\"events-items-container\">\n                    {\n                        past_events.map(({ node: e }) => {\n                        return e.frontmatter.eventType === \"Workshop\" && EventsPageItem(e.frontmatter)\n                        })\n                    } \n                    </div>\n            </div>\n        </Layout>\n    )\n}\n\nconst before_today = d => {\n    var today = new Date()\n    var targ = new Date(d)\n    var prev_year = targ.getFullYear() < today.getFullYear()\n    var prev_month = targ.getFullYear() == today.getFullYear() && targ.getMonth() < today.getMonth()\n    var prev_day = targ.getFullYear() == today.getFullYear() && targ.getMonth() == today.getMonth() && targ.getDate() < today.getDate()\n    return prev_year || prev_month || prev_day\n}\n\nconst EventsPageItem = ({ path, image: { childImageSharp: { fluid } }, title, date, eventType }) => {\n    return (\n        <div className=\"events-page-item\" key={path}>\n            <Link to={path}>\n                <div className=\"image-container\">\n                    <Img fluid={fluid} />\n                </div>\n                <div className=\"text\">\n                    <span className=\"title\">{title}</span>\n                    <br/>\n                    <span className=\"details\">{date}</span>\n                </div>\n            </Link>\n        </div>\n    )\n}\n\nexport const pageQuery = graphql`\n    query EventsQuery {\n        allMarkdownRemark(\n            filter: { fileAbsolutePath: { regex: \"\\/events\\/\" } },\n            sort: { order: DESC, fields: [frontmatter___date] }\n        ) {\n            edges {\n                node {\n                    frontmatter {\n                        title\n                        date(formatString: \"MMMM DD, YYYY\")\n                        path\n                        eventType\n                        image {\n                            childImageSharp {\n                                fluid(maxWidth: 800) {\n                                    ...GatsbyImageSharpFluid\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n`\n\nexport default EventsPage\n"],"sourceRoot":""}